// SPDX-License-Identifier: CC0
// SPDX-FileCopyrightText: Copyright 2024 Jookia

// Test that get_status gives a valid response
NEW_TEST("get_status")
DATA("{\"id\":100,\"method\":\"get_status\"}")
CHECK_DOUBLE("$.id", 100.0)
CHECK_STRING("$.msg", "success")
CHECK_DOUBLE("$.code", 0)
CHECK_STRING("$.result.status", "ready")
CHECK_STRING("$.result.dryer_status.status", "stop")
CHECK_DOUBLE("$.result.dryer_status.target_temp", 0)
CHECK_DOUBLE("$.result.dryer_status.duration", 0)
CHECK_DOUBLE("$.result.dryer_status.remain_time", 0)
CHECK_DOUBLE("$.result.temp", 24)
CHECK_DOUBLE("$.result.enable_rfid", 1)
CHECK_DOUBLE("$.result.fan_speed", 7000)
CHECK_DOUBLE("$.result.feed_assist_count", 0)
CHECK_DOUBLE("$.result.cont_assist_time", 0)
CHECK_DOUBLE("$.result.slots[0].index", 0)
CHECK_STRING("$.result.slots[0].status", "ready")
CHECK_STRING("$.result.slots[0].sku", "")
CHECK_STRING("$.result.slots[0].type", "")
CHECK_DOUBLE("$.result.slots[0].color[0]", 0)
CHECK_DOUBLE("$.result.slots[0].color[1]", 0)
CHECK_DOUBLE("$.result.slots[0].color[2]", 0)
CHECK_DOUBLE("$.result.slots[0].rfid", 1)
CHECK_DOUBLE("$.result.slots[1].index", 1)
CHECK_STRING("$.result.slots[1].status", "ready")
CHECK_STRING("$.result.slots[1].sku", "")
CHECK_STRING("$.result.slots[1].type", "")
CHECK_DOUBLE("$.result.slots[1].color[0]", 0)
CHECK_DOUBLE("$.result.slots[1].color[1]", 0)
CHECK_DOUBLE("$.result.slots[1].color[2]", 0)
CHECK_DOUBLE("$.result.slots[2].rfid", 1)
CHECK_DOUBLE("$.result.slots[2].index", 2)
CHECK_STRING("$.result.slots[2].status", "ready")
CHECK_STRING("$.result.slots[2].sku", "")
CHECK_STRING("$.result.slots[2].type", "")
CHECK_DOUBLE("$.result.slots[2].color[0]", 0)
CHECK_DOUBLE("$.result.slots[2].color[1]", 0)
CHECK_DOUBLE("$.result.slots[2].color[2]", 0)
CHECK_DOUBLE("$.result.slots[2].rfid", 1)
CHECK_DOUBLE("$.result.slots[3].index", 3)
CHECK_STRING("$.result.slots[3].status", "ready")
CHECK_STRING("$.result.slots[3].sku", "")
CHECK_STRING("$.result.slots[3].type", "")
CHECK_DOUBLE("$.result.slots[3].color[0]", 0)
CHECK_DOUBLE("$.result.slots[3].color[1]", 0)
CHECK_DOUBLE("$.result.slots[3].color[2]", 0)
CHECK_DOUBLE("$.result.slots[3].rfid", 1)
END_TEST()
